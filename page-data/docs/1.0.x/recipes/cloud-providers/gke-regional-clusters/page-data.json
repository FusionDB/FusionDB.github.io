{"componentChunkName":"component---src-templates-documentation-js","path":"/docs/1.0.x/recipes/cloud-providers/gke-regional-clusters/","result":{"data":{"pages":{"edges":[{"node":{"id":"a7163ea7-fee2-59e2-93a9-97295900514c","fields":{"path":"/docs/1.0.x/installation/","version":"1.0.x","category":"installation"},"frontmatter":{"title":"Installation","description":"How to install Data Flow","path":"installation/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"bd5a11a7-18e7-51b4-b947-2bc07cfbe3a3","fields":{"path":"/docs/1.0.x/installation/local/","version":"1.0.x","category":"installation"},"frontmatter":{"title":"Local Machine","description":"Local Machine Installation Guide","path":"installation/local/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"768f6200-d825-5a92-8fb0-d9d4f8526774","fields":{"path":"/docs/1.0.x/installation/local/docker/","version":"1.0.x","category":"installation"},"frontmatter":{"title":"Docker Compose","description":"Installation using Docker Compose","path":"installation/local/docker","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"ed09e37c-0ee2-5a34-9ebd-531a260bbb27","fields":{"path":"/docs/1.0.x/installation/local/docker-customize/","version":"1.0.x","category":"installation"},"frontmatter":{"title":"Docker Compose Customization","description":"Customize the Docker Compose installation","path":"installation/local/docker-customize","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"1f4acbf8-19d9-5571-8144-f6bdbb17673e","fields":{"path":"/docs/1.0.x/installation/local/manual/","version":"1.0.x","category":"installation"},"frontmatter":{"title":"Manual","description":"Manual installation","path":"installation/local/manual","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"9187e14f-7805-52c1-9523-5662cc0bd05c","fields":{"path":"/docs/1.0.x/installation/cloudfoundry/","version":"1.0.x","category":"installation"},"frontmatter":{"title":"Cloud Foundry","description":"Data Flow Cloud Foundry Installation Guide","path":"installation/cloudfoundry/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"a9d29299-0143-5805-9560-ceea1b8cd733","fields":{"path":"/docs/1.0.x/installation/cloudfoundry/cf-cli/","version":"1.0.x","category":"installation"},"frontmatter":{"title":"Cloud Foundry CLI","description":"Install using the Cloud Foundry CLI","path":"installation/cloudfoundry/cf-cli","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"e2dd0da6-655a-5dce-9a94-432190a36574","fields":{"path":"/docs/1.0.x/installation/cloudfoundry/cf-local/","version":"1.0.x","category":"installation"},"frontmatter":{"title":"Running locally","description":"Configure the local servers to deploy to Cloud Foundry","path":"installation/cloudfoundry/cf-local","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"aa81741b-4e8f-5fe0-8180-b3b35c334f0a","fields":{"path":"/docs/1.0.x/installation/kubernetes/","version":"1.0.x","category":"installation"},"frontmatter":{"title":"Kubernetes","description":"Data Flow Kubernetes Installation Guide","path":"installation/kubernetes/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"0bc509b9-db54-5702-a81e-b07664512949","fields":{"path":"/docs/1.0.x/installation/kubernetes/creating-a-cluster/","version":"1.0.x","category":"installation"},"frontmatter":{"title":"Creating a Cluster","description":"Creating a Kubernetes Cluster","path":"installation/kubernetes/creating-a-cluster","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"f89cb3e7-dec0-569b-ac11-140d9cfd2d67","fields":{"path":"/docs/1.0.x/installation/kubernetes/helm/","version":"1.0.x","category":"installation"},"frontmatter":{"title":"Helm","description":"Installation using Helm","path":"installation/kubernetes/helm","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"6e3e57c0-9b0c-5ba0-81aa-060a1bb1e756","fields":{"path":"/docs/1.0.x/installation/kubernetes/kubectl/","version":"1.0.x","category":"installation"},"frontmatter":{"title":"kubectl","description":"Installation using kubectl","path":"installation/kubernetes/kubectl","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"c30d6475-ca22-5473-be63-985c9c083df8","fields":{"path":"/docs/1.0.x/installation/kubernetes/compatibility/","version":"1.0.x","category":"installation"},"frontmatter":{"title":"Kubernetes Compatibility","description":"Compatibility with Kubernetes Versions","path":"installation/kubernetes/compatibility","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"4dbf43e6-0df8-53b6-b39f-2c70b6828763","fields":{"path":"/docs/1.0.x/design/","version":"1.0.x","category":"design"},"frontmatter":{"title":"Design","description":"FusionDB design guides","path":"design/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"5a2858ae-3b79-55aa-8df1-647ba72aa53e","fields":{"path":"/docs/1.0.x/design/concept/","version":"1.0.x","category":"design"},"frontmatter":{"title":"Concept","description":"design of concept","path":"design/concept/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"f58b38f1-eb57-55e6-b728-d8e3eeee0598","fields":{"path":"/docs/1.0.x/design/fql/","version":"1.0.x","category":"design"},"frontmatter":{"title":"SQL Layer","description":"SQL Layer","path":"design/fql/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"bd069586-c290-529b-bde5-b4c61a092b74","fields":{"path":"/docs/1.0.x/design/core/","version":"1.0.x","category":"design"},"frontmatter":{"title":"Core Layer","description":"core layer","path":"design/core/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"8d26cb10-fc16-58e0-b279-45a91d727de4","fields":{"path":"/docs/1.0.x/design/runtime/","version":"1.0.x","category":"design"},"frontmatter":{"title":"Runtime","description":"runtime","path":"design/runtime/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"bc1203e6-5c24-53ef-b7d5-b3991641cdf9","fields":{"path":"/docs/1.0.x/design/developer/","version":"1.0.x","category":"design"},"frontmatter":{"title":"Developer","description":"developer","path":"design/developer/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"0c42c162-4438-5ab6-b02f-2b6f41249831","fields":{"path":"/docs/1.0.x/concepts/","version":"1.0.x","category":"concepts"},"frontmatter":{"title":"Concepts","description":"Core Concepts in Spring Cloud Data Flow","path":"concepts/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"f47d7680-99d8-579c-9dcd-02996bd06384","fields":{"path":"/docs/1.0.x/concepts/architecture/","version":"1.0.x","category":"concepts"},"frontmatter":{"title":"Architecture","description":"Introduction to Data Flow's Architecture.","path":"concepts/architecture/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"dfc24dc1-1a43-5a42-902f-1026287574e2","fields":{"path":"/docs/1.0.x/concepts/streams/","version":"1.0.x","category":"concepts"},"frontmatter":{"title":"Stream Processing","description":"Stream Processing Framework and Concepts","path":"concepts/streams/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"05f7a75c-e562-586f-8f96-037e7286bfd8","fields":{"path":"/docs/1.0.x/concepts/batch-jobs/","version":"1.0.x","category":"concepts"},"frontmatter":{"title":"Batch Processing","description":"Batch Processing Framework and Concepts","path":"concepts/batch-jobs/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"7303a994-5abf-5a72-b277-45ffcdee4f94","fields":{"path":"/docs/1.0.x/concepts/monitoring/","version":"1.0.x","category":"concepts"},"frontmatter":{"title":"Monitoring","description":"Runtime monitoring of Stream data pipelines","path":"concepts/monitoring/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"c6b97537-de48-5131-817c-887a6fe1737e","fields":{"path":"/docs/1.0.x/concepts/tooling/","version":"1.0.x","category":"concepts"},"frontmatter":{"title":"Tooling","description":"Dashboard and Shell","path":"concepts/tooling/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"549f2604-a208-557f-9ddb-97b59fb49d8d","fields":{"path":"/docs/1.0.x/stream-developer-guides/","version":"1.0.x","category":"stream-developer-guides"},"frontmatter":{"title":"Stream Developer guides ","description":"Learn how to create Streaming data pipelines using prebuilt microservices or create your own.","path":"stream-developer-guides/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"5c3d87ba-a23e-5278-949b-45177dd60e7d","fields":{"path":"/docs/1.0.x/stream-developer-guides/getting-started/","version":"1.0.x","category":"stream-developer-guides"},"frontmatter":{"title":"Getting Started","description":"Getting Started with Stream Processing","path":"stream-developer-guides/getting-started/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"30d8143a-a157-5987-aa8d-beb7f891ca54","fields":{"path":"/docs/1.0.x/stream-developer-guides/getting-started/stream/","version":"1.0.x","category":"stream-developer-guides"},"frontmatter":{"title":"Stream Processing","description":"Create and deploy a streaming data pipeline using prebuilt applications on your Local Machine","path":"stream-developer-guides/getting-started/stream/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"bb31aa1b-70a3-511c-b1ef-9f8919098de0","fields":{"path":"/docs/1.0.x/stream-developer-guides/streams/","version":"1.0.x","category":"stream-developer-guides"},"frontmatter":{"title":"Stream Development","description":"Stream Processing Developer Guide","path":"stream-developer-guides/streams/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"d434a513-de03-56c9-97b6-bdfcde73ca8c","fields":{"path":"/docs/1.0.x/stream-developer-guides/streams/standalone-stream-rabbitmq/","version":"1.0.x","category":"stream-developer-guides"},"frontmatter":{"title":"Stream Application Development on RabbitMQ","description":"Create your own microservices for Stream processing using RabbitMQ and deploy them manually","path":"stream-developer-guides/streams/standalone-stream-rabbitmq/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"b37a90e1-3d89-515b-a905-415846b703df","fields":{"path":"/docs/1.0.x/stream-developer-guides/streams/standalone-stream-kafka/","version":"1.0.x","category":"stream-developer-guides"},"frontmatter":{"title":"Stream Application Development on Apache Kafka","description":"Create your own microservices for Stream processing using Apache Kafka and deploy them manually","path":"stream-developer-guides/streams/standalone-stream-kafka/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"7c7daf75-55ef-59f5-9b14-55525f8b6df6","fields":{"path":"/docs/1.0.x/stream-developer-guides/streams/data-flow-stream/","version":"1.0.x","category":"stream-developer-guides"},"frontmatter":{"title":"Stream Processing using Spring Cloud Data Flow","description":"Create and Deploy a Stream Processing Pipeline using Spring Cloud Data Flow","path":"stream-developer-guides/streams/data-flow-stream/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"621b87c8-4882-5c45-874d-e7997d9a4814","fields":{"path":"/docs/1.0.x/stream-developer-guides/streams/stream-other-binders/","version":"1.0.x","category":"stream-developer-guides"},"frontmatter":{"title":"Spring Application Development on other Messaging Middleware","description":"Create your own microservices for Stream processing using other messaging middleware such as Google Pub/Sub, Amazon Kinesis, and Solace JMS","path":"stream-developer-guides/streams/stream-other-binders/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"c58d486a-d5d6-55fc-aabd-ba45cb90dfea","fields":{"path":"/docs/1.0.x/stream-developer-guides/programming-models/","version":"1.0.x","category":"stream-developer-guides"},"frontmatter":{"title":"Programming Models","description":"Programming models","path":"stream-developer-guides/programming-models/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"75d3de31-78b4-5b83-9854-d8a02fc374ff","fields":{"path":"/docs/1.0.x/stream-developer-guides/continuous-delivery/","version":"1.0.x","category":"stream-developer-guides"},"frontmatter":{"title":"Continuous Delivery","description":"CD using Skipper","path":"stream-developer-guides/continuous-delivery/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"c43a1bb1-f77b-5dbb-9129-f8bbccc3f143","fields":{"path":"/docs/1.0.x/stream-developer-guides/continuous-delivery/cd-basics/","version":"1.0.x","category":"stream-developer-guides"},"frontmatter":{"title":"Continuous Delivery of streaming applications","description":"Continuous Delivery of Streaming applications","path":"stream-developer-guides/continuous-delivery/cd-basics/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"453f1240-1e06-501e-84d6-f5c75294f51b","fields":{"path":"/docs/1.0.x/stream-developer-guides/troubleshooting/","version":"1.0.x","category":"stream-developer-guides"},"frontmatter":{"title":"Troubleshooting","description":"Troubleshooting Streams","path":"stream-developer-guides/troubleshooting/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"9880ea3d-b6ff-5f0f-b6cc-5e369e6f7532","fields":{"path":"/docs/1.0.x/stream-developer-guides/troubleshooting/debugging-stream-apps/","version":"1.0.x","category":"stream-developer-guides"},"frontmatter":{"title":"Debugging Stream Applications","description":"Debugging Stream Applications outside of Data Flow","path":"stream-developer-guides/troubleshooting/debugging-stream-apps/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"3beeb29d-18a6-5f43-90fe-68f959519e78","fields":{"path":"/docs/1.0.x/stream-developer-guides/troubleshooting/debugging-scdf-streams/","version":"1.0.x","category":"stream-developer-guides"},"frontmatter":{"title":"Debugging Stream applications deployed by Data Flow","description":"Debugging Data Flow Stream deployments","path":"stream-developer-guides/troubleshooting/debugging-scdf-streams/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"0eed7576-fb62-53fa-99ea-7e52579622fd","fields":{"path":"/docs/1.0.x/batch-developer-guides/","version":"1.0.x","category":"batch-developer-guides"},"frontmatter":{"title":"Batch Developer guides ","description":"Learn how to create Batch data pipelines using prebuilt microservices or create your own","path":"batch-developer-guides/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"102bd156-c483-51bb-88f5-fa855409c280","fields":{"path":"/docs/1.0.x/batch-developer-guides/getting-started/","version":"1.0.x","category":"batch-developer-guides"},"frontmatter":{"title":"Getting Started","description":"Getting Started with Batch","path":"batch-developer-guides/getting-started/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"ea535601-baa1-5bfe-9153-75372559647c","fields":{"path":"/docs/1.0.x/batch-developer-guides/getting-started/task/","version":"1.0.x","category":"batch-developer-guides"},"frontmatter":{"title":"Task Processing","description":"Create and deploy a simple Task pipeline using a prebuilt Task application on your local machine","path":"batch-developer-guides/getting-started/task/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"850aaf5b-ad19-5a57-bd92-d05ce20a94f3","fields":{"path":"/docs/1.0.x/batch-developer-guides/batch/","version":"1.0.x","category":"batch-developer-guides"},"frontmatter":{"title":"Batch Development","description":"Batch Developer Guide","path":"batch-developer-guides/batch/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"dec105a5-4b6f-5f71-9351-b196a8277c30","fields":{"path":"/docs/1.0.x/batch-developer-guides/batch/spring-task/","version":"1.0.x","category":"batch-developer-guides"},"frontmatter":{"title":"Simple Task","description":"Create a simple Spring Boot Application using Spring Cloud Task","path":"batch-developer-guides/batch/spring-task/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"9479ba94-433e-52f3-8bd0-3fa5566870dc","fields":{"path":"/docs/1.0.x/batch-developer-guides/batch/spring-batch/","version":"1.0.x","category":"batch-developer-guides"},"frontmatter":{"title":"Spring Batch Jobs","description":"Create a Spring Batch Job","path":"batch-developer-guides/batch/spring-batch/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"444e21c6-559a-536d-b239-67427a6e6e59","fields":{"path":"/docs/1.0.x/batch-developer-guides/batch/data-flow-simple-task/","version":"1.0.x","category":"batch-developer-guides"},"frontmatter":{"title":"Register and Launch a Spring Cloud Task application using Data Flow","description":"Register and Launch a Spring Cloud Task application using Data Flow","path":"batch-developer-guides/batch/data-flow-simple-task/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"c36bf11d-6a72-528f-a52b-76c85db1002e","fields":{"path":"/docs/1.0.x/batch-developer-guides/batch/data-flow-spring-batch/","version":"1.0.x","category":"batch-developer-guides"},"frontmatter":{"title":"Register and launch a Spring Batch application using Data Flow","description":"Register and launch a Spring Batch application using Data Flow","path":"batch-developer-guides/batch/data-flow-spring-batch/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"8229c50e-ed25-5c35-b801-74ddb159ad25","fields":{"path":"/docs/1.0.x/batch-developer-guides/batch/data-flow-composed-task/","version":"1.0.x","category":"batch-developer-guides"},"frontmatter":{"title":"Create and launch a Composed Task using Data Flow","description":"Create and launch a Composed Task using Data Flow","path":"batch-developer-guides/batch/data-flow-composed-task/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"6a82f60f-8635-5b10-a8c0-919bb4e421b7","fields":{"path":"/docs/1.0.x/batch-developer-guides/batch/data-flow-simple-task-kubernetes/","version":"1.0.x","category":"batch-developer-guides"},"frontmatter":{"title":"Deploying a task application on Kubernetes with Data Flow","description":"Guide to deploying spring-cloud-stream-task applications on Kubernetes using Spring Cloud Data Flow","path":"batch-developer-guides/batch/data-flow-simple-task-kubernetes/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"e3203d7d-4257-57da-91ce-fb162be67962","fields":{"path":"/docs/1.0.x/batch-developer-guides/batch/data-flow-simple-task-cloudfoundry/","version":"1.0.x","category":"batch-developer-guides"},"frontmatter":{"title":"Deploying a task application on Cloud Foundry using Spring Cloud Data Flow","description":"Guide to deploying spring-cloud-stream-task applications on Cloud Foundry using Spring Cloud Data Flow","path":"batch-developer-guides/batch/data-flow-simple-task-cloudfoundry/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"4b4804df-3108-5a77-9a1b-9acf3d7993c1","fields":{"path":"/docs/1.0.x/batch-developer-guides/continuous-deployment/","version":"1.0.x","category":"batch-developer-guides"},"frontmatter":{"title":"Continuous Deployment","description":"Continuous Deployment for task applications","path":"batch-developer-guides/continuous-deployment/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"42f40244-c1c6-54d0-9f55-19a6abeb1e18","fields":{"path":"/docs/1.0.x/batch-developer-guides/continuous-deployment/cd-basics/","version":"1.0.x","category":"batch-developer-guides"},"frontmatter":{"title":"Continuous Deployment of task applications","description":"This section discusses how to use Continuous Deployment of Tasks in SCDF","path":"batch-developer-guides/continuous-deployment/cd-basics/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"aff8ddff-db2c-58b7-8318-eb71b0345870","fields":{"path":"/docs/1.0.x/batch-developer-guides/troubleshooting/","version":"1.0.x","category":"batch-developer-guides"},"frontmatter":{"title":"Troubleshooting","description":"Troubleshooting Batch Jobs","path":"batch-developer-guides/troubleshooting/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"9306cc1f-4df5-5f11-9c91-38630700a788","fields":{"path":"/docs/1.0.x/batch-developer-guides/troubleshooting/debugging-task-apps/","version":"1.0.x","category":"batch-developer-guides"},"frontmatter":{"title":"Debugging Batch applications","description":"Debugging Batch applications","path":"batch-developer-guides/troubleshooting/debugging-task-apps/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"ac39f173-da48-5471-af07-8cc0ae79c5a6","fields":{"path":"/docs/1.0.x/batch-developer-guides/troubleshooting/debugging-scdf-tasks/","version":"1.0.x","category":"batch-developer-guides"},"frontmatter":{"title":"Debugging Batch applications deployed by Data Flow","description":"Debugging Batch applications deployed by Data Flow","path":"batch-developer-guides/troubleshooting/debugging-scdf-tasks/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"f756eab0-a1c7-5519-91b8-b756b66427d5","fields":{"path":"/docs/1.0.x/feature-guides/","version":"1.0.x","category":"feature-guides"},"frontmatter":{"title":"Feature guides","description":"High level overview of Data Flow Features","path":"feature-guides/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"a6130b0a-97c5-58c9-a992-8a913de8363c","fields":{"path":"/docs/1.0.x/feature-guides/general/","version":"1.0.x","category":"feature-guides"},"frontmatter":{"title":"General","description":"General Features in Data Flow","path":"feature-guides/general/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"2da44c23-5791-5f72-98e7-b06ad935f91a","fields":{"path":"/docs/1.0.x/feature-guides/general/application-metadata/","version":"1.0.x","category":"feature-guides"},"frontmatter":{"title":"Application Metadata","description":"Create and use application properties metadata","path":"feature-guides/general/application-metadata/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"9595e887-0056-5bf5-81fe-af8041b4f37a","fields":{"path":"/docs/1.0.x/feature-guides/streams/","version":"1.0.x","category":"feature-guides"},"frontmatter":{"title":"Streams","description":"Stream Features in Data Flow","path":"feature-guides/streams/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"beec2961-d478-51c8-a16d-1f8381bc054a","fields":{"path":"/docs/1.0.x/feature-guides/streams/deployment-properties/","version":"1.0.x","category":"feature-guides"},"frontmatter":{"title":"Deployment Properties","description":"Initiate a stream deployment with deployment property overrides","path":"feature-guides/streams/deployment-properties/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"1bc3d5fc-8110-5fdd-80cd-6e943f6cbf84","fields":{"path":"/docs/1.0.x/feature-guides/streams/function-composition/","version":"1.0.x","category":"feature-guides"},"frontmatter":{"title":"Composing Functions","description":"Daisy-chain Java functions in an existing Spring Cloud Stream application","path":"feature-guides/streams/function-composition/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"a2850433-5830-5d6b-929e-ef00b1ffe2dd","fields":{"path":"/docs/1.0.x/feature-guides/streams/named-destinations/","version":"1.0.x","category":"feature-guides"},"frontmatter":{"title":"Named Destinations","description":"Use the Named Destinations to interact with the Topics/Queues directly","path":"feature-guides/streams/named-destinations/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"0b1fdd2b-63ee-55e4-ac39-c1af84975009","fields":{"path":"/docs/1.0.x/feature-guides/streams/monitoring/","version":"1.0.x","category":"feature-guides"},"frontmatter":{"title":"Stream Monitoring","description":"Monitoring streaming data pipelines with Prometheus and InfluxDB","path":"feature-guides/streams/monitoring/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"1f7e22c3-dd60-59eb-89aa-d32ff0aa146e","fields":{"path":"/docs/1.0.x/feature-guides/streams/stream-application-dsl/","version":"1.0.x","category":"feature-guides"},"frontmatter":{"title":"Stream Application DSL","description":"Learn how to use the Stream Application DSL","path":"feature-guides/streams/stream-application-dsl/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"8f9cb8a7-8f95-5e41-9b7b-64f217f9ad53","fields":{"path":"/docs/1.0.x/feature-guides/streams/labels/","version":"1.0.x","category":"feature-guides"},"frontmatter":{"title":"Labeling Applications","description":"Label the stream applications to uniquely interact with them","path":"feature-guides/streams/labels/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"dadb6660-e6bd-5e0a-a0cc-5ffd6c97ac39","fields":{"path":"/docs/1.0.x/feature-guides/streams/application-count/","version":"1.0.x","category":"feature-guides"},"frontmatter":{"title":"Application Count","description":"Initiate stream deployment with multiple application instances","path":"feature-guides/streams/application-count/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"22c21f61-5468-5a3c-9b95-944b4587bb94","fields":{"path":"/docs/1.0.x/feature-guides/streams/fanin-fanout/","version":"1.0.x","category":"feature-guides"},"frontmatter":{"title":"Fan-in and Fan-out","description":"Publish and subscribe to multiple destinations using the fan-in and fan-out capabilities","path":"feature-guides/streams/fanin-fanout/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"a1bcdf2b-cf7d-5ba3-be0f-717da33a7598","fields":{"path":"/docs/1.0.x/feature-guides/streams/partitioning/","version":"1.0.x","category":"feature-guides"},"frontmatter":{"title":"Data Partitioning","description":"Learn more about data partitioning support to build stateful streaming data pipelines","path":"feature-guides/streams/partitioning/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"2b2f20ee-7207-5d37-9938-46f11ebfbb35","fields":{"path":"/docs/1.0.x/feature-guides/streams/scaling/","version":"1.0.x","category":"feature-guides"},"frontmatter":{"title":"Scaling","description":"Scaling streaming data pipeline with Spring Cloud Data Flow","path":"feature-guides/streams/scaling/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"e48190e2-51d0-5e97-be89-ddec511e3c8e","fields":{"path":"/docs/1.0.x/feature-guides/streams/java-dsl/","version":"1.0.x","category":"feature-guides"},"frontmatter":{"title":"Java DSL","description":"Programmatically create streams using the Java DSL","path":"feature-guides/streams/java-dsl/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"74c1c9cc-59a1-56e3-84b0-d37c2cc01644","fields":{"path":"/docs/1.0.x/feature-guides/streams/taps/","version":"1.0.x","category":"feature-guides"},"frontmatter":{"title":"Tapping a Stream","description":"Create a stream from another stream without interrupting the data processing","path":"feature-guides/streams/taps/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"c0fc1912-0647-5493-8682-ad556ca18123","fields":{"path":"/docs/1.0.x/feature-guides/batch/","version":"1.0.x","category":"feature-guides"},"frontmatter":{"title":"Batch","description":"Batch Features in Data Flow","path":"feature-guides/batch/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"ef7306d1-1bb4-5c4f-a6d4-6a1916fb9936","fields":{"path":"/docs/1.0.x/feature-guides/batch/deployment-properties/","version":"1.0.x","category":"feature-guides"},"frontmatter":{"title":"Deployment Properties","description":"Initiate a Batch deployment with deployment property overrides","path":"feature-guides/batch/deployment-properties/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"0bf731f8-f15b-5fa5-93c6-66a1a50a217e","fields":{"path":"/docs/1.0.x/feature-guides/batch/scheduling/","version":"1.0.x","category":"feature-guides"},"frontmatter":{"title":"Scheduling Batch Jobs","description":"Learn how to schedule Batch Jobs","path":"feature-guides/batch/scheduling/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"8634ea59-9d3a-5a8c-893b-d2410db40a50","fields":{"path":"/docs/1.0.x/feature-guides/batch/partitioning/","version":"1.0.x","category":"feature-guides"},"frontmatter":{"title":"Remote Partitioned Batch Job","description":"Learn more about partitioning support for Batch Jobs","path":"feature-guides/batch/partitioning/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"b1fe2d75-240a-5805-9e57-d7a22fd00967","fields":{"path":"/docs/1.0.x/feature-guides/batch/monitoring/","version":"1.0.x","category":"feature-guides"},"frontmatter":{"title":"Task Monitoring","description":"Monitoring task data pipelines with InfluxDB","path":"feature-guides/batch/monitoring/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"be9476c4-fca5-5462-bd55-1fec11d57015","fields":{"path":"/docs/1.0.x/feature-guides/batch/restarting/","version":"1.0.x","category":"feature-guides"},"frontmatter":{"title":"Restarting Batch Jobs","description":"Learn how to restart Batch Jobs","path":"feature-guides/batch/restarting/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"3ae5c6a5-8daa-5e78-ac01-62e5055f259d","fields":{"path":"/docs/1.0.x/feature-guides/batch/composed-task/","version":"1.0.x","category":"feature-guides"},"frontmatter":{"title":"Composed Tasks","description":"Learn how to create and manage composed tasks","path":"feature-guides/batch/composed-task/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"c9418073-406e-5381-9caa-c1f4f5de3bd0","fields":{"path":"/docs/1.0.x/recipes/","version":"1.0.x","category":"recipes"},"frontmatter":{"title":"Recipes","description":"Recipes that help solve some common use-cases","path":"recipes/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"c1e87d44-5cad-57de-9697-b938aacb6787","fields":{"path":"/docs/1.0.x/recipes/polyglot/","version":"1.0.x","category":"recipes"},"frontmatter":{"title":"Polyglot","description":"Using multiple programming languages","path":"recipes/polyglot/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"6fcdc3d3-3437-555c-bd6c-ae9a555d7cdc","fields":{"path":"/docs/1.0.x/recipes/polyglot/processor/","version":"1.0.x","category":"recipes"},"frontmatter":{"title":"Python Stream Processor","description":"Python Application as a Data Flow Stream Processor","path":"recipes/polyglot/processor/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"e2182467-6e67-518d-a081-7bac0ab112bf","fields":{"path":"/docs/1.0.x/recipes/polyglot/task/","version":"1.0.x","category":"recipes"},"frontmatter":{"title":"Python Task","description":"Create and Deploy a Python Task","path":"recipes/polyglot/task/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"5bbaaf56-042c-519c-bf0c-479b8296ca3f","fields":{"path":"/docs/1.0.x/recipes/polyglot/app/","version":"1.0.x","category":"recipes"},"frontmatter":{"title":"Python Application","description":"Create and Deploy a Python Application in a Stream","path":"recipes/polyglot/app/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"ab2e3101-f6b7-585f-aa51-f589b6cd53f1","fields":{"path":"/docs/1.0.x/recipes/rabbitmq/","version":"1.0.x","category":"recipes"},"frontmatter":{"title":"RabbitMQ","description":"RabbitMQ","path":"recipes/rabbitmq/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"e7ac46b6-d8da-5011-95cd-3bd677878f2d","fields":{"path":"/docs/1.0.x/recipes/rabbitmq/rabbit-source-sink/","version":"1.0.x","category":"recipes"},"frontmatter":{"title":"RabbitMQ as Source and Sink","description":"RabbitMQ as Source and Sink + RabbitMQ binder","path":"recipes/rabbitmq/rabbit-source-sink/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"beaa0cd8-6417-5886-92d1-f86fb0fb9be9","fields":{"path":"/docs/1.0.x/recipes/kafka/","version":"1.0.x","category":"recipes"},"frontmatter":{"title":"Apache Kafka","description":"Kafka","path":"recipes/kafka/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"926fbf39-6a6c-51ba-8ce1-0c88b1583941","fields":{"path":"/docs/1.0.x/recipes/kafka/ext-kafka-cluster-cf/","version":"1.0.x","category":"recipes"},"frontmatter":{"title":"External Kafka Cluster","description":"Connect to an external Kafka Cluster from Cloud Foundry","path":"recipes/kafka/ext-kafka-cluster-cf/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"5e8ac125-4c49-5506-b8b7-96fd7eb225a0","fields":{"path":"/docs/1.0.x/recipes/kinesis/","version":"1.0.x","category":"recipes"},"frontmatter":{"title":"Amazon Kinesis","description":"Amazon Kinesis","path":"recipes/kinesis/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"85cce150-f34f-5e56-8d1c-474e13a59c60","fields":{"path":"/docs/1.0.x/recipes/kinesis/simple-producer-consumer/","version":"1.0.x","category":"recipes"},"frontmatter":{"title":"Amazon Kinesis Binder","description":"A sample of Spring Cloud Stream + Amazon Kinesis Binder in action","path":"recipes/kinesis/simple-producer-consumer/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"17cf6afa-cacd-51b1-a38d-269c327433bd","fields":{"path":"/docs/1.0.x/recipes/multi-platform-deployment/","version":"1.0.x","category":"recipes"},"frontmatter":{"title":"Multiple Platform Deployments","description":"Multiple Platform Deployments","path":"recipes/multi-platform-deployment/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"3cecd815-ef4e-5849-a3bd-8244340450c3","fields":{"path":"/docs/1.0.x/recipes/multi-platform-deployment/multiple-platform-accounts/","version":"1.0.x","category":"recipes"},"frontmatter":{"title":"Role of Multiple Platform Deployments","description":"A walk-through of multiple platform requirements and the configurations for Cloud Foundry and Kubernetes","path":"recipes/multi-platform-deployment/multiple-platform-accounts","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"24631eae-3b20-587f-ad1e-ec09f0a70b92","fields":{"path":"/docs/1.0.x/recipes/scaling/","version":"1.0.x","category":"recipes"},"frontmatter":{"title":"Scaling","description":"Prometheus and Data Flow to autoscale streaming data pipelines","path":"recipes/scaling/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"a8642f26-c053-56c4-9d54-d98f6d52e6a2","fields":{"path":"/docs/1.0.x/recipes/scaling/manual-scaling/","version":"1.0.x","category":"recipes"},"frontmatter":{"title":"Manual Scaling","description":"Scale applications using SCDF Shell","path":"recipes/scaling/manual-scaling/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"ab0eae66-b0a8-5173-9f37-3f7f7954a307","fields":{"path":"/docs/1.0.x/recipes/scaling/autoscaling/","version":"1.0.x","category":"recipes"},"frontmatter":{"title":"Autoscaling","description":"Autoscale streaming data pipeline with SCDF and Prometheus","path":"recipes/scaling/autoscaling/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"4bdd938e-edb1-5932-b003-c44f6b7b7362","fields":{"path":"/docs/1.0.x/recipes/batch/","version":"1.0.x","category":"recipes"},"frontmatter":{"title":"Batch","description":"Using Spring Cloud Data Flow with Spring Batch","path":"recipes/batch/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"5f7e4b28-d4d4-5db2-b8f6-5cf784348f99","fields":{"path":"/docs/1.0.x/recipes/batch/batch-only-mode/","version":"1.0.x","category":"recipes"},"frontmatter":{"title":"Batch-only Mode","description":"Set up Spring Cloud Data Flow to use only batch and not streams","path":"recipes/batch/batch-only-mode/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"05184c9b-cfba-5ba5-9989-bfa5fcdff52b","fields":{"path":"/docs/1.0.x/recipes/batch/sftp-to-jdbc/","version":"1.0.x","category":"recipes"},"frontmatter":{"title":"SFTP to JDBC","description":"Ingest Files from SFTP to a JDBC data store using Data Flow and Spring Batch","path":"recipes/batch/sftp-to-jdbc/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"3b1f9b94-4bb5-5a7e-95b4-406de275f1e3","fields":{"path":"/docs/1.0.x/recipes/functional-apps/","version":"1.0.x","category":"recipes"},"frontmatter":{"title":"Functional Applications","description":"Using Functional Approach in Spring Cloud Stream applications","path":"recipes/functional-apps/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"09de46bd-144f-515c-8ceb-fe299888efa8","fields":{"path":"/docs/1.0.x/recipes/functional-apps/scst-function-bindings/","version":"1.0.x","category":"recipes"},"frontmatter":{"title":"Functional Applications","description":"Configuring the Spring Cloud Stream Functional applications","path":"recipes/functional-apps/scst-function-bindings/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"2219bb7b-fe37-58d5-983b-c8f87bc826db","fields":{"path":"/docs/1.0.x/recipes/cloud-providers/","version":"1.0.x","category":"recipes"},"frontmatter":{"title":"Cloud Providers","description":"Using functionality provided by cloud providers","path":"recipes/cloud-providers/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"e6479091-7b1b-5c7c-beab-754b1d921760","fields":{"path":"/docs/1.0.x/recipes/cloud-providers/gke-regional-clusters/","version":"1.0.x","category":"recipes"},"frontmatter":{"title":"GKE Regional Clusters","description":"Deploying Spring Cloud Data Flow to a GKE Regional Cluster","path":"recipes/cloud-providers/gke-regional-clusters/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"3ed354bf-b384-5e0f-aa07-7ccb41a8dc84","fields":{"path":"/docs/1.0.x/resources/","version":"1.0.x","category":"resources"},"frontmatter":{"title":"Resources","description":"Sample Applications, References Docs, Videos, Blogs...","path":"resources/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"dbb3d525-e9e5-5de6-8a1e-3de452708798","fields":{"path":"/docs/1.0.x/resources/reference-docs/","version":"1.0.x","category":"resources"},"frontmatter":{"title":"Reference Documentation","description":"Collection of reference guides for Spring Cloud Data Flow","path":"resources/reference-docs/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"ba1fee96-388f-5785-bd61-2c828c0380b4","fields":{"path":"/docs/1.0.x/resources/samples/","version":"1.0.x","category":"resources"},"frontmatter":{"title":"Samples","description":"Collection of samples","path":"resources/samples/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"bac2f165-b025-53f8-aa62-9218cb36cc52","fields":{"path":"/docs/1.0.x/resources/faq/","version":"1.0.x","category":"resources"},"frontmatter":{"title":"Frequently Asked Questions","description":"","path":"resources/faq/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"310d895e-f2b0-51e9-ac91-5b2b527c8a6e","fields":{"path":"/docs/1.0.x/applications/","version":"1.0.x","category":"applications"},"frontmatter":{"title":"Applications","description":"Using stream and task applications","path":"applications/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"438e7b00-2573-56f0-a213-853e846f5e60","fields":{"path":"/docs/1.0.x/applications/pre-packaged/","version":"1.0.x","category":"applications"},"frontmatter":{"title":"Pre-packaged Applications","description":"Pre-packaged stream and task applications","path":"applications/pre-packaged","meta_title":null,"meta_description":null,"keywords":["application","pre-packaged"]}}}]},"page":{"html":"<h1 id=\"deploying-spring-cloud-data-flow-to-a-gke-regional-cluster\" style=\"position:relative;\"><a href=\"#deploying-spring-cloud-data-flow-to-a-gke-regional-cluster\" aria-label=\"deploying spring cloud data flow to a gke regional cluster permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Deploying Spring Cloud Data Flow to a GKE Regional Cluster</h1>\n<p>When deploying applications to an environment, it is often ideal to have a strategy set up to handle infrastructure outages. Outages could range from hardware failures to complete data centers going offline, resulting in applications becoming unavailable. Rather than having those workloads potentially halt operations until an outage is resolved, another option is to have those workloads migrated to another part of your infrastructure to continue operations. It may also be useful to specify where particular applications must reside or be co-located with other applications.</p>\n<p>With <a href=\"https://kubernetes.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Kubernetes</a>, failure of nodes and the workloads running on them are automatically handled by rescheduling those workloads onto other available nodes. In a simple use case, a Kubernetes cluster consisting of a single control plane and multiple worker nodes residing in the same location is often implemented by default. This type of configuration, in the event of a failure, does not provide any high availability.</p>\n<p>As this recipe is focused on GKE as the cloud provider, location will mean one or more \"zones\" inside a particular \"region\". A \"region\" refers to a specific geographical location, for example, <code class=\"language-text\">us-east1</code>. Within a \"region\", there are multiple \"zones\" such as <code class=\"language-text\">us-east1-b</code>, <code class=\"language-text\">us-east1-c</code>, and so on that are isolated from other zones. It's important to choose regions and zones based on your specific needs, such as CPU/GPU types, disk types, compute power, etc. More in-depth information that should be reviewed can be found in the <a href=\"https://cloud.google.com/compute/docs/regions-zones/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Regions and Zones</a> documentation.</p>\n<p>Beyond a single-zone cluster, GKE supports two other types of clusters:</p>\n<ul>\n<li>Multi-zonal clusters - Single replica of the control plane running in a single zone with worker nodes running in multiple zones of a given region</li>\n<li>Regional clusters - Multiple replicas of the control plane running in multiple zones within a given region with nodes running in the same zone as each control plane</li>\n</ul>\n<p>This recipe will focus on <code class=\"language-text\">Regional clusters</code> as it provides a greater level of high availability than <code class=\"language-text\">Single Zone</code> or <code class=\"language-text\">Multi-zonal</code> clusters.</p>\n<h2 id=\"prerequisites\" style=\"position:relative;\"><a href=\"#prerequisites\" aria-label=\"prerequisites permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Prerequisites</h2>\n<p>A <a href=\"https://cloud.google.com/gcp/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Google Cloud</a> (GCP) account with permissions to create new <a href=\"https://cloud.google.com/kubernetes-engine/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Google Kubernetes Engine</a> (GKE) clusters is required. A web interface is provided to interact with GCP/GKE as well as a CLI, which can be obtained via the <a href=\"https://cloud.google.com/sdk\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Google Cloud SDK</a> and installed. Standard tooling such as <a href=\"https://github.com/kubernetes/kubectl/releases\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Kubectl</a> needs to be installed for interaction with Kubernetes clusters.</p>\n<h2 id=\"creating-the-cluster\" style=\"position:relative;\"><a href=\"#creating-the-cluster\" aria-label=\"creating the cluster permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Creating the Cluster</h2>\n<p>In this recipe, we will use the GKE web console to create the cluster. We will utilize the defaults in most cases, except for the location type and instance sizes. When creating a new cluster, the first bits of information to select is the \"Cluster Basics\". The screenshot below shows the options chosen for this demo:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 92%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABgUlEQVQ4y5VTXXODIBD0//+3PnbykEnbacavioCICAjYBRPrJNpON8lFLuzdslwypUMnNKFCKmumGW85BiFHRgltiZRyPkbWCXXNa9JyNVo7zXYK2s6iV58R16qq+r4XCXhALcQhIYSQWWvalnDOvPcoFuIrGINkSylFLO6o6xqxLEul1I2Mp64TbnJYrHqcc9iK1qfTCbvRHxGZPAFLVLHWZt47NMAChJWMH7B1EQwV9glIYj/IHvI4Y9vO0xTJnPN4kCcgCb3g38gs7Vsxjvrt7Z0QcuTzUiKS4Ur3QNa+KAnUrZ33r2qxZ7H6R7Y1dVVukw+yYUeUvVuyH1xZM9FxXARODtu2doK/9NsnoyXlErQ+AWQ4NI4j4rZKdmTGy2t7Pp+11kvG37E9/y45RsIshvHBix3DngGNZZHjFjAP0DklpO/0SU9xPHfJxug0lXXTNCwCQ94ROugE+Ix4SNbGfTXxfwGT/i0b5MvloyjyEHbG84+rgmuDlNHqEH4hfwOORhr8gomMqgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/7d0edb352649238e7167584d36f039ce/507e6/cluster-basics.webp 200w,\n/static/7d0edb352649238e7167584d36f039ce/28a80/cluster-basics.webp 400w,\n/static/7d0edb352649238e7167584d36f039ce/8d2ea/cluster-basics.webp 800w,\n/static/7d0edb352649238e7167584d36f039ce/68fc1/cluster-basics.webp 1200w,\n/static/7d0edb352649238e7167584d36f039ce/43d96/cluster-basics.webp 1600w,\n/static/7d0edb352649238e7167584d36f039ce/2bfc1/cluster-basics.webp 1758w\"\n              sizes=\"(max-width: 800px) 100vw, 800px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/7d0edb352649238e7167584d36f039ce/36ca5/cluster-basics.png 200w,\n/static/7d0edb352649238e7167584d36f039ce/a3397/cluster-basics.png 400w,\n/static/7d0edb352649238e7167584d36f039ce/a331c/cluster-basics.png 800w,\n/static/7d0edb352649238e7167584d36f039ce/8537d/cluster-basics.png 1200w,\n/static/7d0edb352649238e7167584d36f039ce/1a152/cluster-basics.png 1600w,\n/static/7d0edb352649238e7167584d36f039ce/7ab55/cluster-basics.png 1758w\"\n            sizes=\"(max-width: 800px) 100vw, 800px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/7d0edb352649238e7167584d36f039ce/a331c/cluster-basics.png\"\n            alt=\"Regional Cluster Basics\"\n            title=\"Regional Cluster Basics\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>The important parts of this section are:</p>\n<ul>\n<li><code class=\"language-text\">Regional</code> is selected as the <code class=\"language-text\">Location Type</code></li>\n<li><code class=\"language-text\">Region</code> is selected, in this case, <code class=\"language-text\">us-east1</code>. This value should be determined by your specific requirements as described above.</li>\n<li><code class=\"language-text\">Specify default node locations</code> has 3 zones selected. 3 zones will be selected automatically, but in the event, there are more than 3, this section allows explicit selection of zones.</li>\n</ul>\n<p>Other values on this section such as <code class=\"language-text\">Name</code>, and <code class=\"language-text\">Master version</code> settings can be customized as appropriate.</p>\n<p>Next the machine type is selected in the <code class=\"language-text\">Nodes</code> subsection of <code class=\"language-text\">Node Pools -> default-pool</code> as shown in the screenshot below:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 93%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB4UlEQVQ4y31U2W7cMAz0/39ZgT4VfQ3aeBPv+tItWdbpji1EcYN1CEPQRXJmSLlxIVPK+r5/PB7d/Y5PSrG6PLE4My9VMEbPhAghlFIppXyyZts2Ywyl1NoV83IcQpimCeP2rTVaa9xbliXFWHe997fbjXOuTialLGMxpGlW58ZpQuaInNuGL0RMEyHkgLMboGFcT4YlEjTabpSv7duoTNQ2G5uZikL7cRwgBEAhyjyTQqoaGEGFJucdZN8PH5yRe1uWtX3923Vv0zhwTq/INylF5xzCAwnWUOsIHP/c6Msr7edVL5FJz4QzNkjlhfJchXjk2AUTUhafajFGwqQQCxdGKiOEltJoYzFi6Xwq15v9HiFd152xYU4pyTllSJdimcQYMBya7tu7YHCmhKAq5+QlItSudUItzWFwK3f2UuHePM+M8zNsHAzD4969Q1KUFKGLIvX0M/M0jUjyv5B5sQnFOyh4+Fc6wzDEj3ZCqXI8uuLT78D/45f4+Vtgsrrgg690zgSbpwVEtamwTFih0DnpsrcvnBMeWNu2jFG04oEunQ2EweXSGY0JISvbM6OCH8o/d8YZ3MqrKM+gPgm0I9IiOjafO0NVpMXvofwDylgMHYmaFxSXsL+0RIVdDNAQ8R/xqFMdWfUolAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/531c3fb9bfb44ba6ffdda099d694dc80/507e6/cluster-nodes.webp 200w,\n/static/531c3fb9bfb44ba6ffdda099d694dc80/28a80/cluster-nodes.webp 400w,\n/static/531c3fb9bfb44ba6ffdda099d694dc80/8d2ea/cluster-nodes.webp 800w,\n/static/531c3fb9bfb44ba6ffdda099d694dc80/68fc1/cluster-nodes.webp 1200w,\n/static/531c3fb9bfb44ba6ffdda099d694dc80/43d96/cluster-nodes.webp 1600w,\n/static/531c3fb9bfb44ba6ffdda099d694dc80/9defe/cluster-nodes.webp 1742w\"\n              sizes=\"(max-width: 800px) 100vw, 800px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/531c3fb9bfb44ba6ffdda099d694dc80/36ca5/cluster-nodes.png 200w,\n/static/531c3fb9bfb44ba6ffdda099d694dc80/a3397/cluster-nodes.png 400w,\n/static/531c3fb9bfb44ba6ffdda099d694dc80/a331c/cluster-nodes.png 800w,\n/static/531c3fb9bfb44ba6ffdda099d694dc80/8537d/cluster-nodes.png 1200w,\n/static/531c3fb9bfb44ba6ffdda099d694dc80/1a152/cluster-nodes.png 1600w,\n/static/531c3fb9bfb44ba6ffdda099d694dc80/d90ad/cluster-nodes.png 1742w\"\n            sizes=\"(max-width: 800px) 100vw, 800px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/531c3fb9bfb44ba6ffdda099d694dc80/a331c/cluster-nodes.png\"\n            alt=\"Regional Cluster Nodes\"\n            title=\"Regional Cluster Nodes\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>The main change in this section is selecting a machine type of <code class=\"language-text\">n1-standard-4 (4 vCPU, 15GB memory)</code>. This gives us a bit more room to work with than the default. Settings can be customized as appropriate.</p>\n<div class=\"admonition tip\"><p>The number of nodes and machine type will vary based on your specific requirements for base needs in addition to failover tolerance. For example, the selected configuration may be sized based on the expected number of applications that may be spread across those nodes. Still, in the event of a node or even one or more region failures, clusters should be sized to support this extra load. Failing to do so will result in workloads un-schedulable until capacity is available. Various strategies can be implemented, for example, upfront sizing, using a <a href=\"https://cloud.google.com/kubernetes-engine/docs/concepts/cluster-autoscaler\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Cluster Autoscaler</a> and so on.</p></div>\n<p>With the customizations made, the cluster can be created by clicking the \"Create\" button as shown in the below screenshot:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 18.999999999999996%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAfklEQVQI13WM2w3DIAxFmbtTdIRu0HU6QCUQqGAIOJiHW5Ioykea83GvdHRtYYzRWgOAtdY5N9KvDBNCIKLvNUIpJaVExLxTdmqtzJ0oI6b/x8w8ik/0vkRrfYqUEi1iVdyPjdjq/HVz+pNv99fj+cYIzkGME/gUYrG+pLn9AOhD6EO5iCS6AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/8df8d4b97239aaef66ba2aca9a985917/507e6/cluster-create.webp 200w,\n/static/8df8d4b97239aaef66ba2aca9a985917/28a80/cluster-create.webp 400w,\n/static/8df8d4b97239aaef66ba2aca9a985917/8d2ea/cluster-create.webp 800w,\n/static/8df8d4b97239aaef66ba2aca9a985917/68fc1/cluster-create.webp 1200w,\n/static/8df8d4b97239aaef66ba2aca9a985917/43d96/cluster-create.webp 1600w,\n/static/8df8d4b97239aaef66ba2aca9a985917/23f72/cluster-create.webp 1661w\"\n              sizes=\"(max-width: 800px) 100vw, 800px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/8df8d4b97239aaef66ba2aca9a985917/36ca5/cluster-create.png 200w,\n/static/8df8d4b97239aaef66ba2aca9a985917/a3397/cluster-create.png 400w,\n/static/8df8d4b97239aaef66ba2aca9a985917/a331c/cluster-create.png 800w,\n/static/8df8d4b97239aaef66ba2aca9a985917/8537d/cluster-create.png 1200w,\n/static/8df8d4b97239aaef66ba2aca9a985917/1a152/cluster-create.png 1600w,\n/static/8df8d4b97239aaef66ba2aca9a985917/b3115/cluster-create.png 1661w\"\n            sizes=\"(max-width: 800px) 100vw, 800px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/8df8d4b97239aaef66ba2aca9a985917/a331c/cluster-create.png\"\n            alt=\"Create Regional Cluster\"\n            title=\"Create Regional Cluster\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<div class=\"admonition tip\"><p>It's worth pointing out that while using the GKE UI can be convenient to customize your cluster configuration, the same can be done from the Google Cloud CLI. A handy way to generate this command is by clicking on the <code class=\"language-text\">command line</code> link which will generate the appropriate gcloud CLI command that can be used to create the same cluster configuration.</p></div>\n<p>When the cluster finishes creating, there will be 3 worker nodes deployed to each of the 3 regions, for a total of 9 worker nodes. Please note, GKE does not provide the ability to access control plane nodes.</p>\n<p>Lastly, the credentials need to be fetched via the <code class=\"language-text\">gcloud</code> CLI so <code class=\"language-text\">kubectl</code> can interact with the cluster:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ gcloud container clusters get-credentials regional-demo --zone us-east1 --project PROJECT_ID</code></pre></div>\n      </div>\n<p>Replacing PROJECT_ID with your GKE project ID. Additionally, to make it easier to identify the context name:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ kubectl config rename-context gke_PROJECT_ID_us-east1_regional-demo regional-demo</code></pre></div>\n      </div>\n<p>Verify the correct current context is set with <code class=\"language-text\">kubectl</code> (indicated by <code class=\"language-text\">*</code>):</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ kubectl config get-contexts\nCURRENT   NAME            CLUSTER                                                   AUTHINFO                                                  NAMESPACE\n*         regional-demo   gke_PROJECT_ID_us-east1_regional-demo   gke_PROJECT_ID_us-east1_regional-demo</code></pre></div>\n      </div>\n<h2 id=\"verify-the-cluster-creation\" style=\"position:relative;\"><a href=\"#verify-the-cluster-creation\" aria-label=\"verify the cluster creation permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Verify the Cluster Creation</h2>\n<p>Verify the worker nodes are available:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ kubectl get nodes\nNAME                                           STATUS   ROLES    AGE   VERSION\ngke-regional-demo-default-pool-e121c001-k667   Ready    &lt;none>   13m   v1.16.9-gke.2\ngke-regional-demo-default-pool-e121c001-zhrt   Ready    &lt;none>   13m   v1.16.9-gke.2\ngke-regional-demo-default-pool-e121c001-zpv4   Ready    &lt;none>   13m   v1.16.9-gke.2\ngke-regional-demo-default-pool-ea10f422-5f72   Ready    &lt;none>   13m   v1.16.9-gke.2\ngke-regional-demo-default-pool-ea10f422-ntdk   Ready    &lt;none>   13m   v1.16.9-gke.2\ngke-regional-demo-default-pool-ea10f422-vw3c   Ready    &lt;none>   13m   v1.16.9-gke.2\ngke-regional-demo-default-pool-fb3e6608-0lx2   Ready    &lt;none>   13m   v1.16.9-gke.2\ngke-regional-demo-default-pool-fb3e6608-0rcc   Ready    &lt;none>   13m   v1.16.9-gke.2\ngke-regional-demo-default-pool-fb3e6608-2qsk   Ready    &lt;none>   13m   v1.16.9-gke.2</code></pre></div>\n      </div>\n<p>As shown, there are 9 nodes with 3 in each pool.</p>\n<p>Each node will have a label applied by the key of <code class=\"language-text\">failure-domain.beta.kubernetes.io/zone</code> and a value of the zone it is located in. To identify which nodes are placed in which zones, we can select on the label, for example:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ kubectl get nodes -l failure-domain.beta.kubernetes.io/zone=us-east1-b\nNAME                                           STATUS   ROLES    AGE   VERSION\ngke-regional-demo-default-pool-ea10f422-5f72   Ready    &lt;none>   29m   v1.16.9-gke.2\ngke-regional-demo-default-pool-ea10f422-ntdk   Ready    &lt;none>   29m   v1.16.9-gke.2\ngke-regional-demo-default-pool-ea10f422-vw3c   Ready    &lt;none>   29m   v1.16.9-gke.2</code></pre></div>\n      </div>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ kubectl get nodes -l failure-domain.beta.kubernetes.io/zone=us-east1-c\nNAME                                           STATUS   ROLES    AGE   VERSION\ngke-regional-demo-default-pool-e121c001-k667   Ready    &lt;none>   29m   v1.16.9-gke.2\ngke-regional-demo-default-pool-e121c001-zhrt   Ready    &lt;none>   29m   v1.16.9-gke.2\ngke-regional-demo-default-pool-e121c001-zpv4   Ready    &lt;none>   29m   v1.16.9-gke.2</code></pre></div>\n      </div>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ kubectl get nodes -l failure-domain.beta.kubernetes.io/zone=us-east1-d\nNAME                                           STATUS   ROLES    AGE   VERSION\ngke-regional-demo-default-pool-fb3e6608-0lx2   Ready    &lt;none>   29m   v1.16.9-gke.2\ngke-regional-demo-default-pool-fb3e6608-0rcc   Ready    &lt;none>   29m   v1.16.9-gke.2\ngke-regional-demo-default-pool-fb3e6608-2qsk   Ready    &lt;none>   29m   v1.16.9-gke.2</code></pre></div>\n      </div>\n<h2 id=\"deploying-spring-cloud-data-flow\" style=\"position:relative;\"><a href=\"#deploying-spring-cloud-data-flow\" aria-label=\"deploying spring cloud data flow permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Deploying Spring Cloud Data Flow</h2>\n<p>At this point there is now a fully functional multi-node cluster spread across 3 zones in 1 region, with 3 worker nodes in each.</p>\n<p>Spring Cloud Data Flow provides manifest files to deploy Data Flow, Skipper and service dependencies such as a database and messaging middleware. These files are located in the <code class=\"language-text\">src/kubernetes</code> directory of the <a href=\"https://github.com/spring-cloud/spring-cloud-dataflow/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Spring Cloud Data Flow</a> Git repository.</p>\n<p>The relevant files can be applied as-is letting Kubernetes handle where they should be scheduled, but we can also modify where we want these applications deployed, the number of instances and so on using standard Kubernetes constructs.</p>\n<p>In this recipe, we will implement the following use-case for our deployment:</p>\n<ul>\n<li>3 replicas of Skipper should be deployed, one replica per region</li>\n<li>3 replicas of Data Flow should be deployed, one replica per region, co-located on the same node as Skipper</li>\n<li>MySQL will be used as the database and will be placed in a specific zone</li>\n<li>RabbitMQ will be used as the messaging middleware and be placed in a specific zone</li>\n</ul>\n<h3 id=\"deploying-mysql\" style=\"position:relative;\"><a href=\"#deploying-mysql\" aria-label=\"deploying mysql permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Deploying MySQL</h3>\n<div class=\"admonition note\"><p>In this recipe, an instance of MySQL is being deployed to a single zone. Please see the relevant high availability documentation of the <a href=\"https://dev.mysql.com/doc/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">MySQL</a> product for more details. In the event of a zone failure, MySQL may be unavailable. Setting up MySQL for HA is outside the scope of SCDF and this recipe.</p></div>\n<p>The deployment of MySQL will consist of 1 replica. MySQL uses persistent storage and the creation/access of that storage is governed by the rules outlined in <a href=\"https://cloud.google.com/kubernetes-engine/docs/concepts/regional-clusters#pd\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Persistent storage in regional clusters</a>. Unless a <code class=\"language-text\">StorageClass</code> is defined referencing a specific zone which it should be created, GKE will choose a random zone. A custom <code class=\"language-text\">StorageClass</code> would then be referenced in the <code class=\"language-text\">PVC</code> configuration for MySQL.</p>\n<p>A default StorageClass is automatically created by GKE, which we will use for simplicity. Any pods referencing a provisioned disk will be automatically scheduled in that same zone the disk is provisioned in. Since we have 3 nodes in each zone, in the event of a node failure the MySQL pod will be rescheduled to another node in the zone.</p>\n<p>Deploy the manifests:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ kubectl create -f mysql/\ndeployment.apps/mysql created\npersistentvolumeclaim/mysql created\nsecret/mysql created\nservice/mysql created</code></pre></div>\n      </div>\n<p>Get the volume name:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ kubectl get pvc/mysql\nNAME    STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS   AGE\nmysql   Bound    pvc-24f2acb5-17cd-45e1-8064-34bf602e408f   8Gi        RWO            standard       3m1s</code></pre></div>\n      </div>\n<p>Check the zone the volume is located in:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ kubectl get pv/pvc-24f2acb5-17cd-45e1-8064-34bf602e408f -o jsonpath='{.metadata.labels.failure-domain\\.beta\\.kubernetes\\.io/zone}'\nus-east1-d</code></pre></div>\n      </div>\n<p>Check the MySQL pod to verify its running and the node allocated to:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ kubectl get pod/mysql-b94654bd4-9zpt2 -o=custom-columns=NAME:.metadata.name,STATUS:.status.phase,NODE:.spec.nodeName\nNAME                    STATUS    NODE\nmysql-b94654bd4-9zpt2   Running   gke-regional-demo-default-pool-fb3e6608-0rcc</code></pre></div>\n      </div>\n<p>And finally, the zone the node resides in can be verified by:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ kubectl get node gke-regional-demo-default-pool-fb3e6608-0rcc -o jsonpath='{.metadata.labels.failure-domain\\.beta\\.kubernetes\\.io/zone}'\nus-east1-d</code></pre></div>\n      </div>\n<h3 id=\"deploying-rabbitmq\" style=\"position:relative;\"><a href=\"#deploying-rabbitmq\" aria-label=\"deploying rabbitmq permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Deploying RabbitMQ</h3>\n<div class=\"admonition note\"><p>In this recipe, an instance of RabbitMQ is being deployed to a single zone. Please see the relevant high availability documentation of the <a href=\"https://www.rabbitmq.com/documentation.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">RabbitMQ</a> product for more details. In the event of a zone failure, RabbitMQ may be unavailable. Setting up RabbitMQ for HA is outside the scope of SCDF and this recipe.</p></div>\n<p>The deployment of RabbitMQ will consist of 1 replica. The provided manifests do not configure any persistent storage as with MySQL. In order to place RabbitMQ in a specific zone, we can use a simple <a href=\"https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#nodeselector\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">nodeSelector</a>.</p>\n<p>The node in which a the pod gets scheduled to may not be a concern, just that it resides in a specific zone. All nodes in the cluster automatically get labels assigned, one of those representing the zone the node resides which we will utilize.</p>\n<p>Make the following modification to the <code class=\"language-text\">rabbitmq/rabbitmq-deployment.yaml</code> file to place RabbitMQ on a node in the <code class=\"language-text\">us-east1-b</code> zone:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    spec:\n      nodeSelector:\n        failure-domain.beta.kubernetes.io/zone: us-east1-b</code></pre></div>\n      </div>\n<p>Deploy the manifests:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ kubectl create -f rabbitmq/\ndeployment.apps/rabbitmq created\nservice/rabbitmq created</code></pre></div>\n      </div>\n<p>Get the node the pod is deployed to:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ kubectl get pod/rabbitmq-6d65f675d9-4vksj -o jsonpath='{.spec.nodeName}'\ngke-regional-demo-default-pool-ea10f422-5f72</code></pre></div>\n      </div>\n<p>Get the zone the node resides in:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ kubectl get node gke-regional-demo-default-pool-ea10f422-5f72 -o jsonpath='{.metadata.labels.failure-domain\\.beta\\.kubernetes\\.io/zone}'\nus-east1-b</code></pre></div>\n      </div>\n<h3 id=\"deploying-skipper\" style=\"position:relative;\"><a href=\"#deploying-skipper\" aria-label=\"deploying skipper permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Deploying Skipper</h3>\n<p>he deployment of Skipper will consist of 3 replicas. No persistent storage is needed and its desired to have a replica running in each zone. Multiple replicas should not reside in the same zone as another. One way to do this would be using <a href=\"https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#inter-pod-affinity-and-anti-affinity\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Pod Anti Affinity</a>.</p>\n<p>Make the following modifications to the <code class=\"language-text\">skipper/skipper-deployment.yaml</code> file bumping up the replica count and adding the pod anti-affinity:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">spec:\n  replicas: 3</code></pre></div>\n      </div>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    spec:\n      affinity:\n        podAntiAffinity:\n          requiredDuringSchedulingIgnoredDuringExecution:\n          - labelSelector:\n              matchExpressions:\n              - key: app\n                operator: In\n                values:\n                - skipper\n            topologyKey: failure-domain.beta.kubernetes.io/zone</code></pre></div>\n      </div>\n<p>Deploy the manifests:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ kubectl create -f server/server-roles.yaml\n$ kubectl create -f server/server-rolebinding.yaml\n$ kubectl create -f server/service-account.yaml\n$ kubectl create -f skipper/skipper-config-rabbit.yaml\n$ kubectl create -f skipper/skipper-deployment.yaml\n$ kubectl create -f skipper/skipper-svc.yaml</code></pre></div>\n      </div>\n<p>Get the nodes the pods are deployed to:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ kubectl get pods -l app=skipper -o=custom-columns=NAME:.metadata.name,STATUS:.status.phase,NODE:.spec.nodeName\nNAME                       STATUS    NODE\nskipper-6fd7bb796c-flm44   Running   gke-regional-demo-default-pool-e121c001-zhrt\nskipper-6fd7bb796c-l99dj   Running   gke-regional-demo-default-pool-ea10f422-5f72\nskipper-6fd7bb796c-vrf9m   Running   gke-regional-demo-default-pool-fb3e6608-0lx2</code></pre></div>\n      </div>\n<p>Get the zones the nodes reside in:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ kubectl get node gke-regional-demo-default-pool-e121c001-zhrt -o jsonpath='{.metadata.labels.failure-domain\\.beta\\.kubernetes\\.io/zone}'\nus-east1-c\n$ kubectl get node gke-regional-demo-default-pool-ea10f422-5f72 -o jsonpath='{.metadata.labels.failure-domain\\.beta\\.kubernetes\\.io/zone}'\nus-east1-b\n$ kubectl get node gke-regional-demo-default-pool-fb3e6608-0lx2 -o jsonpath='{.metadata.labels.failure-domain\\.beta\\.kubernetes\\.io/zone}'\nus-east1-d</code></pre></div>\n      </div>\n<h3 id=\"deploying-data-flow\" style=\"position:relative;\"><a href=\"#deploying-data-flow\" aria-label=\"deploying data flow permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Deploying Data Flow</h3>\n<p>The deployment of Data Flow will consist of 3 replicas. No persistent storage is needed and its desired to have a replica running in each zone. Multiple replica's should not reside in the same zone as another. Additionally since Data Flow makes calls to Skipper often, co-locate it on the same node in each region. One way to do this would be using <a href=\"https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#inter-pod-affinity-and-anti-affinity\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Pod Affinity</a>.</p>\n<p>Make the following modifications to the <code class=\"language-text\">server/server-deployment.yaml</code> file bumping up the replica count and adding the pod affinity:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">spec:\n  replicas: 3</code></pre></div>\n      </div>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">  affinity:\n    podAffinity:\n      requiredDuringSchedulingIgnoredDuringExecution:\n      - labelSelector:\n          matchExpressions:\n          - key: app\n            operator: In\n            values:\n            - skipper\n        topologyKey: kubernetes.io/hostname</code></pre></div>\n      </div>\n<p>Deploy the manifests:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ kubectl create -f server/server-config.yaml\n$ kubectl create -f server/server-svc.yaml\n$ kubectl create -f server/server-deployment.yaml</code></pre></div>\n      </div>\n<p>Get the nodes the pods are deployed to:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ kubectl get pods -l app=scdf-server -o=custom-columns=NAME:.metadata.name,STATUS:.status.phase,NODE:.spec.nodeName\nNAME                           STATUS    NODE\nscdf-server-5ddf7bbd4f-dpnmm   Running   gke-regional-demo-default-pool-fb3e6608-0lx2\nscdf-server-5ddf7bbd4f-hlf9h   Running   gke-regional-demo-default-pool-e121c001-zhrt\nscdf-server-5ddf7bbd4f-vnjh6   Running   gke-regional-demo-default-pool-ea10f422-5f72</code></pre></div>\n      </div>\n<p>Verify the pods are deployed to the same nodes as Skipper:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ kubectl get pods -l app=skipper -o=custom-columns=NAME:.metadata.name,STATUS:.status.phase,NODE:.spec.nodeName\nNAME                       STATUS    NODE\nskipper-6fd7bb796c-flm44   Running   gke-regional-demo-default-pool-e121c001-zhrt\nskipper-6fd7bb796c-l99dj   Running   gke-regional-demo-default-pool-ea10f422-5f72\nskipper-6fd7bb796c-vrf9m   Running   gke-regional-demo-default-pool-fb3e6608-0lx2</code></pre></div>\n      </div>\n<p>Verify connectivity to Data Flow:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ SCDF_IP=$(kubectl get svc/scdf-server -o jsonpath='{.status.loadBalancer.ingress[*].ip}')\n$ curl -s http://$SCDF_IP/about | jq\n{\n  \"featureInfo\": {\n    \"analyticsEnabled\": true,\n    \"streamsEnabled\": true,\n    \"tasksEnabled\": true,\n    \"schedulesEnabled\": true,\n    \"grafanaEnabled\": true\n  },\n  \"versionInfo\": {\n    \"implementation\": {\n      \"name\": \"spring-cloud-dataflow-server\",\n      \"version\": \"2.6.0.BUILD-SNAPSHOT\"\n    },\n...\n...\n...</code></pre></div>\n      </div>\n<h2 id=\"deploying-streams-and-tasks\" style=\"position:relative;\"><a href=\"#deploying-streams-and-tasks\" aria-label=\"deploying streams and tasks permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Deploying Streams and Tasks</h2>\n<p>Streams and Tasks deployed through Data Flow can also benefit from various placement options, just as with server components. There may be situations where certain streams or tasks should only be deployed to specific zones or even nodes themselves. Deployed streams and tasks are applications just like any others, so they also benefit from Kubernetes re-scheduling them onto other nodes in the event of failures.</p>\n<p>Since streams and tasks are deployed to Kubernetes via Data Flow and Skipper, rather than applying these features to YAML manifests, they are set through deployer properties. See the <a href=\"https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#configuration-kubernetes-deployer\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Deployer Property</a> section of the Spring Cloud Data Flow reference manual for a full list of available deployer properties.</p>\n<p>The deployer properties of interest are:</p>\n<p>Node selector:</p>\n<ul>\n<li>deployment.nodeSelector</li>\n</ul>\n<p>Tolerations:</p>\n<ul>\n<li>tolerations.key</li>\n<li>tolerations.effect</li>\n<li>tolerations.operator</li>\n<li>tolerations.tolerationSeconds</li>\n<li>tolerations.value</li>\n</ul>\n<p>Node Affinity:</p>\n<ul>\n<li>affinity.nodeAffinity</li>\n</ul>\n<p>Pod Affinity:</p>\n<ul>\n<li>affinity.podAffinity</li>\n</ul>\n<p>Pod Anti-Affinity:</p>\n<ul>\n<li>affinity.podAntiAffinity</li>\n</ul>\n<p>For a concrete example of how to set deployment properties at the application or server level, see the <a href=\"https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#_tolerations\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Tolerations</a> section of the reference manual. The same pattern applies to other properties, using different property names and values.</p>\n<h2 id=\"conclusion\" style=\"position:relative;\"><a href=\"#conclusion\" aria-label=\"conclusion permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusion</h2>\n<p>In this recipe, we have set up a Regional cluster in GKE, providing the infrastructure to provide high availability control planes and workers across multiple zones in a region. We explored different options for application placement using constructs such as node selector, pod affinity, and pod anti-affinity. Each application and environment will have their own specialized needs, but this recipe should provide a starting point on how standard Kubernetes constructs can be used with Data Flow.</p>","headings":[{"value":"Deploying Spring Cloud Data Flow to a GKE Regional Cluster","depth":1},{"value":"Prerequisites","depth":2},{"value":"Creating the Cluster","depth":2},{"value":"Verify the Cluster Creation","depth":2},{"value":"Deploying Spring Cloud Data Flow","depth":2},{"value":"Deploying MySQL","depth":3},{"value":"Deploying RabbitMQ","depth":3},{"value":"Deploying Skipper","depth":3},{"value":"Deploying Data Flow","depth":3},{"value":"Deploying Streams and Tasks","depth":2},{"value":"Conclusion","depth":2}],"fields":{"path":"/docs/1.0.x/recipes/cloud-providers/gke-regional-clusters/","version":"1.0.x","category":"recipes","sourcePath":"pages/6-recipes/9-cloud-providers/1-gke-regional-clusters.md"},"frontmatter":{"title":"GKE Regional Clusters","summary":null,"path":"recipes/cloud-providers/gke-regional-clusters/","toc":null,"prevNext":null}}},"pageContext":{"slug":"/docs/1.0.x/recipes/cloud-providers/gke-regional-clusters/","version":"1.0.x","versionPath":""}},"staticQueryHashes":["1084522749","2044043181"]}